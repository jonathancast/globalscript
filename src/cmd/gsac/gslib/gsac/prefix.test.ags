	.document

	.data

	.closure	_ep_c

_tests	.list	test.property.t	_test_items_empty	_test_items_gsabstype	_test_item	_test_item.name	_test_file.add

_test_items_empty	.closure	_test_items_empty_c
_test_items_empty_label	.string	items\sempty

_test_items_gsabstype	.closure	_test_items_gsabstype_c
_test_items_gsabstype_label	.string	items\s$\sgsabstype.insert\sempty
_test_items_gsabstype_x.s	.string	x

_test_item	.closure	_test_item_c

_tests_item	.list	test.property.t	_test_item_eq_x.x	_test_item_eq_diff.nm	_test_item_eq_diff.kind

_test_item_eq_x.x	.closure	_test_item_eq_x.x_c
_test_item_eq_x.x_label	.string	item.gsabstype\snm\ski\s≡\sitem.gsabstype\snm\ski
_test_item_eq_x.x_false	.string	item.gsabstype\snm\ski\s≠sitem.gsabstype\snm\ski
_test_item_eq_x.x_true	.string	item.gsabstype\snm\ski\s≡\sitem.gsabstype\snm\ski
_test_item_eq_x.x_x.s	.string	x

_test_item_eq_diff.nm	.closure	_test_item_eq_diff.nm_c
_test_item_eq_diff.nm_label	.string	item.gsabstype\sx\ski\s≡\sitem.gsabstype\sy\ski
_test_item_eq_diff.nm_false	.string	item.gsabstype\sx\ski\s≠\sitem.gsabstype\sy\ski
_test_item_eq_diff.nm_true	.string	item.gsabstype\sx\ski\s≡\sitem.gsabstype\sy\ski
_test_item_eq_diff.nm_x.s	.string	x
_test_item_eq_diff.nm_y.s	.string	y

_test_item_eq_diff.kind	.closure	_test_item_eq_diff.kind_c
_test_item_eq_diff.kind_label	.string	item.gsabstype\snm\slifted\s≡\sitem.gsabstype\snm\sunlifted
_test_item_eq_diff.kind_false	.string	item.gsabstype\snm\slifted\s≠\sitem.gsabstype\snm\sunlifted
_test_item_eq_diff.kind_true	.string	item.gsabstype\snm\slifted\s≡\sitem.gsabstype\snm\sunlifted
_test_item_eq_diff.kind_x.s	.string	x

_test_item.name	.closure	_test_item.name_c
_test_item.name_label	.string	item.name

_tests_item.name	.list	test.property.t

_test_file.add	.closure	_test_file.add_c
_test_file.add_label	.string	file.add

_tests_file.add	.list	test.property.t	_test_file.add_gsdocument	_test_file.add_gsabstype

_test_file.add_gsdocument	.closure	_test_file.add_gsdocument_c
_test_file.add_gsdocument_label	.string	file.add\signores\sdocuments

_test_file.add_gsabstype	.closure	_test_file.add_gsabstype_c
_test_file.add_gsabstype_label	.string	file.add\scan\sreturn\sa\sgsabstype
_test_file.add_gsabstype_x.s	.string	x

_fixtures.filenm	.closure	_fixtures.filenm_c
_fixtures.filenm_s	.string	./foo.cgs

	.code

_ep_c	.expr
test.all	.gvar
_tests	.gvar
	.app	_tests
	.enter	test.all

# §section §gs{items empty}

_test_items_empty_c	.expr
list.t	.tygvar
gsac.prefix.item.t	.tygvar
test.property.label	.gvar
_test_items_empty_label	.gvar
test.assert.eq	.gvar
list.≡	.gvar
gsac.prefix.item.≡	.gvar
list.fmtgs.byDefault	.gvar
gsac.prefix.item.fmtgs	.gvar
gsac.prefix.items	.gvar
gsac.prefix.empty	.gvar
list.nil	.gvar
list.item.ty	.tylet	list.t	gsac.prefix.item.t
list.item.≡	.apply	list.≡	gsac.prefix.item.t	|	gsac.prefix.item.≡
list.item.fmtgs	.apply	list.fmtgs.byDefault	gsac.prefix.item.t	|	gsac.prefix.item.fmtgs
actual	.apply	gsac.prefix.items	|	gsac.prefix.empty
expected	.apply	list.nil	gsac.prefix.item.t
test	.apply	test.assert.eq	list.item.ty	|	list.item.≡	list.item.fmtgs	actual	expected
	.app	_test_items_empty_label	test
	.enter	test.property.label

# §section §gs{items $ gsabstype.insert $ empty}

_test_items_gsabstype_c	.expr
list.t	.tygvar
gsac.prefix.item.t	.tygvar
gsdl.sourcepos.t	.tygvar
gsdl.var.component.t	.tygvar
test.property.label	.gvar
_test_items_gsabstype_label	.gvar
test.assert.eq	.gvar
gsac.prefix.item.≡	.gvar
list.≡	.gvar
list.fmtgs.byDefault	.gvar
gsac.prefix.item.fmtgs	.gvar
gsac.prefix.items	.gvar
gsac.prefix.typeitem.gsabstype.insert	.gvar
natural.1	.gvar
_fixtures.filenm	.gvar
gsdl.var.basevar	.gvar
list.singleton	.gvar
gsdl.var.component.alphanum	.gvar
_test_items_gsabstype_x.s	.gvar
gsdl.cgs.gskind.lifted	.gvar
gsac.prefix.empty	.gvar
gsac.prefix.item.typeitem	.gvar
gsac.prefix.typeitem.gsabstypenm	.gvar
list.item.ty	.tylet	list.t	gsac.prefix.item.t
list.item.≡	.apply	list.≡	gsac.prefix.item.t	|	gsac.prefix.item.≡
list.item.fmtgs	.apply	list.fmtgs.byDefault	gsac.prefix.item.t	|	gsac.prefix.item.fmtgs
pos	.lrecord	0.col	natural.1	0.line	natural.1	file	_fixtures.filenm	|	gsdl.sourcepos.t
v.c0	.apply	gsdl.var.component.alphanum	|	_test_items_gsabstype_x.s
v.cs	.apply	list.singleton	gsdl.var.component.t	|	v.c0
v	.apply	gsdl.var.basevar	|	v.cs
pr	.apply	gsac.prefix.typeitem.gsabstype.insert	|	pos	v	gsdl.cgs.gskind.lifted	gsac.prefix.empty
actual	.apply	gsac.prefix.items	|	pr
absty.ti	.apply	gsac.prefix.typeitem.gsabstypenm	|	pos	v	gsdl.cgs.gskind.lifted
absty	.apply	gsac.prefix.item.typeitem	|	absty.ti
expected	.apply	list.singleton	gsac.prefix.item.t | 	absty
test	.apply	test.assert.eq	list.item.ty	|	list.item.≡	list.item.fmtgs	actual	expected
	.app	_test_items_gsabstype_label	test
	.enter	test.property.label

# §section §gs{item.≡}

_test_item_c	.expr
test.all	.gvar
_tests_item	.gvar
	.app	_tests_item
	.enter	test.all

# §subsection §gs{item.gsabstype nm ki ≡ item.gsabstype nm ki}

_test_item_eq_x.x_c	.expr
gsdl.sourcepos.t	.tygvar
gsdl.var.component.t	.tygvar
test.property.label	.gvar
_test_item_eq_x.x_label	.gvar
test.assert	.gvar
_test_item_eq_x.x_false	.gvar
_test_item_eq_x.x_true	.gvar
gsac.prefix.typeitem.≡	.gvar
gsac.prefix.typeitem.gsabstypenm	.gvar
gsdl.var.basevar	.gvar
list.singleton	.gvar
gsdl.var.component.alphanum	.gvar
_test_item_eq_x.x_x.s	.gvar
gsdl.cgs.gskind.lifted	.gvar
pos	.undefined	gsdl.sourcepos.t
v.c0	.apply	gsdl.var.component.alphanum	|	_test_item_eq_x.x_x.s
v.cs	.apply	list.singleton	gsdl.var.component.t	|	v.c0
v	.apply	gsdl.var.basevar	|	v.cs
absty	.apply	gsac.prefix.typeitem.gsabstypenm	|	pos	v	gsdl.cgs.gskind.lifted
eq	.apply	gsac.prefix.typeitem.≡	|	absty	absty
test	.apply	test.assert	|	_test_item_eq_x.x_false	_test_item_eq_x.x_true	eq
	.app	_test_item_eq_x.x_label	test
	.enter	test.property.label

# §subsection §gs{item.gsabstype x ki ≡ item.gsabstype y ki}

_test_item_eq_diff.nm_c	.expr
gsdl.sourcepos.t	.tygvar
gsdl.var.component.t	.tygvar
test.property.label	.gvar
_test_item_eq_diff.nm_label	.gvar
test.deny	.gvar
_test_item_eq_diff.nm_false	.gvar
_test_item_eq_diff.nm_true	.gvar
gsac.prefix.typeitem.≡	.gvar
gsac.prefix.typeitem.gsabstypenm	.gvar
gsdl.var.basevar	.gvar
list.singleton	.gvar
gsdl.var.component.alphanum	.gvar
_test_item_eq_diff.nm_x.s	.gvar
_test_item_eq_diff.nm_y.s	.gvar
gsdl.cgs.gskind.lifted	.gvar
pos	.undefined	gsdl.sourcepos.t
x.c0	.apply	gsdl.var.component.alphanum	|	_test_item_eq_diff.nm_x.s
x.cs	.apply	list.singleton	gsdl.var.component.t	|	x.c0
x.v	.apply	gsdl.var.basevar	|	x.cs
absty.x	.apply	gsac.prefix.typeitem.gsabstypenm	|	pos	x.v	gsdl.cgs.gskind.lifted
y.c0	.apply	gsdl.var.component.alphanum	|	_test_item_eq_diff.nm_y.s
y.cs	.apply	list.singleton	gsdl.var.component.t	|	y.c0
y.v	.apply	gsdl.var.basevar	|	y.cs
absty.y	.apply	gsac.prefix.typeitem.gsabstypenm	|	pos	y.v	gsdl.cgs.gskind.lifted
eq	.apply	gsac.prefix.typeitem.≡	|	absty.x	absty.y
test	.apply	test.deny	|	_test_item_eq_diff.nm_false	_test_item_eq_diff.nm_true	eq
	.app	_test_item_eq_diff.nm_label	test
	.enter	test.property.label

# §subsection §gs{item.gsabstype nm lifted ≡ item.gsabstype nm unlifted}

_test_item_eq_diff.kind_c	.expr
gsdl.sourcepos.t	.tygvar
gsdl.var.component.t	.tygvar
test.property.label	.gvar
_test_item_eq_diff.kind_label	.gvar
test.deny	.gvar
_test_item_eq_diff.kind_false	.gvar
_test_item_eq_diff.kind_true	.gvar
gsac.prefix.typeitem.≡	.gvar
gsac.prefix.typeitem.gsabstypenm	.gvar
gsdl.var.basevar	.gvar
list.singleton	.gvar
gsdl.var.component.alphanum	.gvar
_test_item_eq_diff.kind_x.s	.gvar
gsdl.cgs.gskind.lifted	.gvar
gsdl.cgs.gskind.unlifted	.gvar
pos	.undefined	gsdl.sourcepos.t
c0	.apply	gsdl.var.component.alphanum	|	_test_item_eq_diff.kind_x.s
cs	.apply	list.singleton	gsdl.var.component.t	|	c0
v	.apply	gsdl.var.basevar	|	cs
absty.l	.apply	gsac.prefix.typeitem.gsabstypenm	|	pos	v	gsdl.cgs.gskind.lifted
absty.u	.apply	gsac.prefix.typeitem.gsabstypenm	|	pos	v	gsdl.cgs.gskind.unlifted
eq	.apply	gsac.prefix.typeitem.≡	|	absty.l	absty.u
test	.apply	test.deny	|	_test_item_eq_diff.kind_false	_test_item_eq_diff.kind_true	eq
	.app	_test_item_eq_diff.kind_label	test
	.enter	test.property.label

# §section §gs{item.name}

_test_item.name_c	.expr
test.property.label	.gvar
_test_item.name_label	.gvar
test.all	.gvar
_tests_item.name	.gvar
test	.apply	test.all	|	_tests_item.name
	.app	_test_item.name_label	test
	.enter	test.property.label

# §section §gs{prefix.add.file} Tests

_test_file.add_c	.expr
test.property.label	.gvar
_test_file.add_label	.gvar
test.all	.gvar
_tests_file.add	.gvar
test	.apply	test.all	|	_tests_file.add
	.app	_test_file.add_label	test
	.enter	test.property.label

# §subsection §gs{prefix.add.file} ignores documents

_test_file.add_gsdocument_c	.expr
list.t	.tygvar
gsac.prefix.item.t	.tygvar
gsdl.ags.codeitem.t	.tygvar
gsdl.ags.coercionitem.t	.tygvar
gsdl.ags.dataitem.t	.tygvar
gsdl.ags.typeitem.t	.tygvar
gsdl.ags.file.t	.tygvar
test.property.label	.gvar
_test_file.add_gsdocument_label	.gvar
test.assert.eq	.gvar
gsac.prefix.item.≡	.gvar
list.≡	.gvar
list.fmtgs.byDefault	.gvar
gsac.prefix.item.fmtgs	.gvar
gsac.prefix.items	.gvar
gsac.prefix.file.add	.gvar
list.nil	.gvar
gsdl.ags.file.filetype.gsdocument	.gvar
gsac.prefix.empty	.gvar
list.item.ty	.tylet	list.t	gsac.prefix.item.t
list.item.≡	.apply	list.≡	gsac.prefix.item.t	|	gsac.prefix.item.≡
list.item.fmtgs	.apply	list.fmtgs.byDefault	gsac.prefix.item.t	|	gsac.prefix.item.fmtgs
cs	.undefined	list.t	gsdl.ags.codeitem.t
cos	.undefined	list.t	gsdl.ags.coercionitem.t
ds	.undefined	list.t	gsdl.ags.dataitem.t
tys	.undefined	list.t	gsdl.ags.typeitem.t
inprfx	.lrecord	codesection	cs	coercionsection	cos	datasection	ds	filetype	gsdl.ags.file.filetype.gsdocument	typesection	tys	|	gsdl.ags.file.t
pr	.apply	gsac.prefix.file.add	|	inprfx	gsac.prefix.empty
actual	.apply	gsac.prefix.items	|	pr
expected	.apply	list.nil	gsac.prefix.item.t
test	.apply	test.assert.eq	list.item.ty	|	list.item.≡	list.item.fmtgs	actual	expected
	.app	_test_file.add_gsdocument_label	test
	.enter	test.property.label

# §subsection §gs{prefix.add.file gsabstype}

_test_file.add_gsabstype_c	.expr
list.t	.tygvar
gsac.prefix.item.t	.tygvar
gsdl.ags.codeitem.t	.tygvar
gsdl.ags.coercionitem.t	.tygvar
gsdl.ags.dataitem.t	.tygvar
gsdl.ags.typeitem.t	.tygvar	# Temp

gsdl.ags.file.t	.tygvar
gsdl.sourcepos.t	.tygvar
gsdl.var.component.t	.tygvar
gsdl.ags.typeitem.decls.t	.tygvar	# Temp
gsdl.ags.typeitem.expr.t	.tygvar	# Temp
test.property.label	.gvar
_test_file.add_gsabstype_label	.gvar
test.assert.eq	.gvar
gsac.prefix.item.≡	.gvar
list.≡	.gvar
list.fmtgs.byDefault	.gvar
gsac.prefix.item.fmtgs	.gvar
gsac.prefix.items	.gvar
gsac.prefix.file.add	.gvar
list.nil	.gvar
gsdl.ags.typeitem.tyabstract	.gvar
gsdl.ags.typeitem.gskind.lifted	.gvar
gsdl.ags.file.filetype.gsprefix	.gvar
natural.1	.gvar
_fixtures.filenm	.gvar
gsdl.var.basevar	.gvar
list.singleton	.gvar
gsdl.var.component.alphanum	.gvar
_test_file.add_gsabstype_x.s	.gvar
gsdl.cgs.gskind.lifted	.gvar
gsac.prefix.empty	.gvar
gsac.prefix.item.typeitem	.gvar
gsac.prefix.typeitem.gsabstypenm	.gvar
list.item.ty	.tylet	list.t	gsac.prefix.item.t
list.item.≡	.apply	list.≡	gsac.prefix.item.t	|	gsac.prefix.item.≡
list.item.fmtgs	.apply	list.fmtgs.byDefault	gsac.prefix.item.t	|	gsac.prefix.item.fmtgs
pos	.lrecord	0.col	natural.1	0.line	natural.1	file	_fixtures.filenm	|	gsdl.sourcepos.t
v.c0	.apply	gsdl.var.component.alphanum	|	_test_file.add_gsabstype_x.s
v.cs	.apply	list.singleton	gsdl.var.component.t	|	v.c0
v	.apply	gsdl.var.basevar	|	v.cs
cs	.apply	list.nil	gsdl.ags.codeitem.t
cos	.apply	list.nil	gsdl.ags.coercionitem.t
ds	.apply	list.nil	gsdl.ags.dataitem.t
decls	.undefined	gsdl.ags.typeitem.decls.t
tye	.undefined	gsdl.ags.typeitem.expr.t
ti	.apply	gsdl.ags.typeitem.tyabstract	|	pos	v	gsdl.ags.typeitem.gskind.lifted	decls	tye
tys	.apply	list.singleton	gsdl.ags.typeitem.t	|	ti
inprfx	.lrecord	codesection	cs	coercionsection	cos	datasection	ds	filetype	gsdl.ags.file.filetype.gsprefix	typesection	tys	|	gsdl.ags.file.t
pr	.apply	gsac.prefix.file.add	|	inprfx	gsac.prefix.empty
actual	.apply	gsac.prefix.items	|	pr
absty.ti	.apply	gsac.prefix.typeitem.gsabstypenm	|	pos	v	gsdl.cgs.gskind.lifted
absty	.apply	gsac.prefix.item.typeitem	|	absty.ti
expected	.apply	list.singleton	gsac.prefix.item.t | 	absty
test	.apply	test.assert.eq	list.item.ty	|	list.item.≡	list.item.fmtgs	actual	expected
	.app	_test_file.add_gsabstype_label	test
	.enter	test.property.label

# §section Test Fixtures

_fixtures.filenm_c	.expr
ibio.file.name.in	.gvar
_fixtures.filenm_s	.gvar
	.app	_fixtures.filenm_s
	.enter	ibio.file.name.in
